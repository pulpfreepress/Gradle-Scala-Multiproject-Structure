/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */



plugins {
   id 'com.gradle.build-scan' version '1.13.2'
}

allprojects {
  apply plugin: 'base'
  apply plugin: 'java'
  apply plugin: 'scala'

  repositories {
    mavenCentral()
  }
}

buildScan {
    termsOfServiceUrl = 'https://gradle.com/terms-of-service'
    termsOfServiceAgree = 'yes'
  //  publishAlways()
}


task docs(type: ScalaDoc, description: 'Generate scaladocs from all child projects as if it were a single project', group: 'Documentation') {
 docs.destinationDir = file("$buildDir/docs/scaladoc")
 docs.title = "$project.name $version API"
 
   subprojects.each { proj -> 
      proj.tasks.withType(ScalaDoc).each {
        docs.source += proj.sourceSets.main.allJava
        docs.source += proj.sourceSets.main.allScala
        docs.classpath += proj.sourceSets.main.compileClasspath
        docs.excludes += scaladoc.excludes
        docs.includes += scaladoc.includes
    }
  }
}
